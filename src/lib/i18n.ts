export const languages = ['en', 'cs', 'sk', 'uk', 'ru', 'de', 'fr'] as const
export type Lang = typeof languages[number]

const translations: Record<Lang, Record<string, string>> = {
  en: {
    problemScan: 'Problem? Scan!',
    stoppedUnexpectedly: 'Stopped Unexpectedly',
    rumbledOccupied: 'Rumbled while Occupied',
    rumbledArrival: 'Rumbled before Arrival',
    thanks: 'Thanks! Reported üëç',
    cooldown: 'You can report again in {minutes} minutes',
    elevatorNotFound: 'Elevator not found',
    tooManyReports: 'Please wait before reporting again',
    reportIssue: 'Report an Issue',
    language: 'Language',
    admin: 'Admin',
    login: 'Login',
    signup: 'Sign Up',
    email: 'Email',
    sendMagicLink: 'Send Magic Link',
    magicLinkSent: 'Check your email for the login link!',
    dashboard: 'Dashboard',
    elevators: 'Elevators',
    addElevator: 'Add Elevator',
    editElevator: 'Edit Elevator',
    name: 'Name',
    location: 'Location / Building',
    save: 'Save',
    delete: 'Delete',
    cancel: 'Cancel',
    reports: 'Reports',
    last7days: 'Last 7 Days',
    last30days: 'Last 30 Days',
    qrCode: 'QR Code',
    downloadQR: 'Download QR',
    printQR: 'Print QR',
    inviteAdmin: 'Invite Admin',
    logout: 'Logout',
    noElevators: 'No elevators yet. Add one!',
    confirmDelete: 'Are you sure you want to delete this elevator?',
    total: 'Total',
  },
  cs: {
    problemScan: 'Probl√©m? Naskenuj!',
    stoppedUnexpectedly: 'Neƒçekanƒõ se zastavil',
    rumbledOccupied: 'Dunƒõl za j√≠zdy',
    rumbledArrival: 'Dunƒõl p≈ôed p≈ô√≠jezdem',
    thanks: 'D√≠ky! Nahl√°≈°eno üëç',
    cooldown: 'M≈Ø≈æete hl√°sit znovu za {minutes} minut',
    elevatorNotFound: 'V√Ωtah nenalezen',
    tooManyReports: 'Poƒçkejte pros√≠m p≈ôed dal≈°√≠m hl√°≈°en√≠m',
    reportIssue: 'Nahl√°sit probl√©m',
    language: 'Jazyk',
    admin: 'Administrace',
    login: 'P≈ôihl√°≈°en√≠',
    signup: 'Registrace',
    email: 'Email',
    sendMagicLink: 'Odeslat p≈ôihla≈°ovac√≠ odkaz',
    magicLinkSent: 'Zkontrolujte email pro p≈ôihla≈°ovac√≠ odkaz!',
    dashboard: 'P≈ôehled',
    elevators: 'V√Ωtahy',
    addElevator: 'P≈ôidat v√Ωtah',
    editElevator: 'Upravit v√Ωtah',
    name: 'N√°zev',
    location: 'Um√≠stƒõn√≠ / Budova',
    save: 'Ulo≈æit',
    delete: 'Smazat',
    cancel: 'Zru≈°it',
    reports: 'Hl√°≈°en√≠',
    last7days: 'Posledn√≠ch 7 dn√≠',
    last30days: 'Posledn√≠ch 30 dn√≠',
    qrCode: 'QR k√≥d',
    downloadQR: 'St√°hnout QR',
    printQR: 'Tisk QR',
    inviteAdmin: 'Pozvat admina',
    logout: 'Odhl√°sit',
    noElevators: 'Zat√≠m ≈æ√°dn√© v√Ωtahy. P≈ôidejte jeden!',
    confirmDelete: 'Opravdu chcete smazat tento v√Ωtah?',
    total: 'Celkem',
  },
  sk: {
    problemScan: 'Probl√©m? Naskenuj!',
    stoppedUnexpectedly: 'Neƒçakane sa zastavil',
    rumbledOccupied: 'Dunelo poƒças jazdy',
    rumbledArrival: 'Dunelo pred pr√≠chodom',
    thanks: 'Vƒèaka! Nahl√°sen√© üëç',
    cooldown: 'M√¥≈æete hl√°si≈• znova za {minutes} min√∫t',
    elevatorNotFound: 'V√Ω≈•ah nen√°jden√Ω',
    tooManyReports: 'Poƒçkajte pros√≠m pred ƒèal≈°√≠m hl√°sen√≠m',
    reportIssue: 'Nahl√°si≈• probl√©m',
    language: 'Jazyk',
    admin: 'Administr√°cia',
    login: 'Prihl√°senie',
    signup: 'Registr√°cia',
    email: 'Email',
    sendMagicLink: 'Odosla≈• prihlasovac√≠ odkaz',
    magicLinkSent: 'Skontrolujte email pre prihlasovac√≠ odkaz!',
    dashboard: 'Prehƒæad',
    elevators: 'V√Ω≈•ahy',
    addElevator: 'Prida≈• v√Ω≈•ah',
    editElevator: 'Upravi≈• v√Ω≈•ah',
    name: 'N√°zov',
    location: 'Umiestnenie / Budova',
    save: 'Ulo≈æi≈•',
    delete: 'Zmaza≈•',
    cancel: 'Zru≈°i≈•',
    reports: 'Hl√°senia',
    last7days: 'Posledn√Ωch 7 dn√≠',
    last30days: 'Posledn√Ωch 30 dn√≠',
    qrCode: 'QR k√≥d',
    downloadQR: 'Stiahnu≈• QR',
    printQR: 'Tlaƒç QR',
    inviteAdmin: 'Pozva≈• admina',
    logout: 'Odhl√°si≈•',
    noElevators: 'Zatiaƒæ ≈æiadne v√Ω≈•ahy. Pridajte jeden!',
    confirmDelete: 'Naozaj chcete zmaza≈• tento v√Ω≈•ah?',
    total: 'Celkom',
  },
  uk: {
    problemScan: '–ü—Ä–æ–±–ª–µ–º–∞? –°–∫–∞–Ω—É–π!',
    stoppedUnexpectedly: '–ù–µ—Å–ø–æ–¥—ñ–≤–∞–Ω–æ –∑—É–ø–∏–Ω–∏–≤—Å—è',
    rumbledOccupied: '–ì—É—Ä–∫–æ—Ç—ñ–≤ –ø—ñ–¥ —á–∞—Å —Ä—É—Ö—É',
    rumbledArrival: '–ì—É—Ä–∫–æ—Ç—ñ–≤ –ø–µ—Ä–µ–¥ –ø—Ä–∏–±—É—Ç—Ç—è–º',
    thanks: '–î—è–∫—É—é! –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–æ üëç',
    cooldown: '–í–∏ –º–æ–∂–µ—Ç–µ –ø–æ–≤—ñ–¥–æ–º–∏—Ç–∏ –∑–Ω–æ–≤—É —á–µ—Ä–µ–∑ {minutes} —Ö–≤–∏–ª–∏–Ω',
    elevatorNotFound: '–õ—ñ—Ñ—Ç –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ',
    tooManyReports: '–ó–∞—á–µ–∫–∞–π—Ç–µ –ø–µ—Ä–µ–¥ –Ω–∞—Å—Ç—É–ø–Ω–∏–º –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è–º',
    reportIssue: '–ü–æ–≤—ñ–¥–æ–º–∏—Ç–∏ –ø—Ä–æ –ø—Ä–æ–±–ª–µ–º—É',
    language: '–ú–æ–≤–∞',
    admin: '–ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è',
    login: '–£–≤—ñ–π—Ç–∏',
    signup: '–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è',
    email: 'Email',
    sendMagicLink: '–ù–∞–¥—ñ—Å–ª–∞—Ç–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –¥–ª—è –≤—Ö–æ–¥—É',
    magicLinkSent: '–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ email –¥–ª—è –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –≤—Ö—ñ–¥!',
    dashboard: '–ü–∞–Ω–µ–ª—å',
    elevators: '–õ—ñ—Ñ—Ç–∏',
    addElevator: '–î–æ–¥–∞—Ç–∏ –ª—ñ—Ñ—Ç',
    editElevator: '–†–µ–¥–∞–≥—É–≤–∞—Ç–∏ –ª—ñ—Ñ—Ç',
    name: '–ù–∞–∑–≤–∞',
    location: '–†–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è / –ë—É–¥—ñ–≤–ª—è',
    save: '–ó–±–µ—Ä–µ–≥—Ç–∏',
    delete: '–í–∏–¥–∞–ª–∏—Ç–∏',
    cancel: '–°–∫–∞—Å—É–≤–∞—Ç–∏',
    reports: '–ó–≤—ñ—Ç–∏',
    last7days: '–û—Å—Ç–∞–Ω–Ω—ñ 7 –¥–Ω—ñ–≤',
    last30days: '–û—Å—Ç–∞–Ω–Ω—ñ 30 –¥–Ω—ñ–≤',
    qrCode: 'QR –∫–æ–¥',
    downloadQR: '–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ QR',
    printQR: '–î—Ä—É–∫ QR',
    inviteAdmin: '–ó–∞–ø—Ä–æ—Å–∏—Ç–∏ –∞–¥–º—ñ–Ω–∞',
    logout: '–í–∏–π—Ç–∏',
    noElevators: '–õ—ñ—Ñ—Ç—ñ–≤ —â–µ –Ω–µ–º–∞—î. –î–æ–¥–∞–π—Ç–µ –æ–¥–∏–Ω!',
    confirmDelete: '–í–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ, —â–æ —Ö–æ—á–µ—Ç–µ –≤–∏–¥–∞–ª–∏—Ç–∏ —Ü–µ–π –ª—ñ—Ñ—Ç?',
    total: '–í—Å—å–æ–≥–æ',
  },
  ru: {
    problemScan: '–ü—Ä–æ–±–ª–µ–º–∞? –°–∫–∞–Ω–∏—Ä—É–π!',
    stoppedUnexpectedly: '–ù–µ–æ–∂–∏–¥–∞–Ω–Ω–æ –æ—Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è',
    rumbledOccupied: '–ì—Ä–µ–º–µ–ª –≤–æ –≤—Ä–µ–º—è –¥–≤–∏–∂–µ–Ω–∏—è',
    rumbledArrival: '–ì—Ä–µ–º–µ–ª –ø–µ—Ä–µ–¥ –ø—Ä–∏–±—ã—Ç–∏–µ–º',
    thanks: '–°–ø–∞—Å–∏–±–æ! –°–æ–æ–±—â–µ–Ω–æ üëç',
    cooldown: '–í—ã –º–æ–∂–µ—Ç–µ —Å–æ–æ–±—â–∏—Ç—å —Å–Ω–æ–≤–∞ —á–µ—Ä–µ–∑ {minutes} –º–∏–Ω—É—Ç',
    elevatorNotFound: '–õ–∏—Ñ—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω',
    tooManyReports: '–ü–æ–¥–æ–∂–¥–∏—Ç–µ –ø–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º',
    reportIssue: '–°–æ–æ–±—â–∏—Ç—å –æ –ø—Ä–æ–±–ª–µ–º–µ',
    language: '–Ø–∑—ã–∫',
    admin: '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ',
    login: '–í–æ–π—Ç–∏',
    signup: '–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è',
    email: 'Email',
    sendMagicLink: '–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É –¥–ª—è –≤—Ö–æ–¥–∞',
    magicLinkSent: '–ü—Ä–æ–≤–µ—Ä—å—Ç–µ email –¥–ª—è —Å—Å—ã–ª–∫–∏ –Ω–∞ –≤—Ö–æ–¥!',
    dashboard: '–ü–∞–Ω–µ–ª—å',
    elevators: '–õ–∏—Ñ—Ç—ã',
    addElevator: '–î–æ–±–∞–≤–∏—Ç—å –ª–∏—Ñ—Ç',
    editElevator: '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–∏—Ñ—Ç',
    name: '–ù–∞–∑–≤–∞–Ω–∏–µ',
    location: '–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ / –ó–¥–∞–Ω–∏–µ',
    save: '–°–æ—Ö—Ä–∞–Ω–∏—Ç—å',
    delete: '–£–¥–∞–ª–∏—Ç—å',
    cancel: '–û—Ç–º–µ–Ω–∞',
    reports: '–û—Ç—á–µ—Ç—ã',
    last7days: '–ü–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π',
    last30days: '–ü–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π',
    qrCode: 'QR –∫–æ–¥',
    downloadQR: '–°–∫–∞—á–∞—Ç—å QR',
    printQR: '–ü–µ—á–∞—Ç—å QR',
    inviteAdmin: '–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –∞–¥–º–∏–Ω–∞',
    logout: '–í—ã–π—Ç–∏',
    noElevators: '–õ–∏—Ñ—Ç–æ–≤ –ø–æ–∫–∞ –Ω–µ—Ç. –î–æ–±–∞–≤—å—Ç–µ –æ–¥–∏–Ω!',
    confirmDelete: '–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –ª–∏—Ñ—Ç?',
    total: '–í—Å–µ–≥–æ',
  },
  de: {
    problemScan: 'Problem? Scannen!',
    stoppedUnexpectedly: 'Unerwartet gestoppt',
    rumbledOccupied: 'Rumpelte w√§hrend der Fahrt',
    rumbledArrival: 'Rumpelte vor der Ankunft',
    thanks: 'Danke! Gemeldet üëç',
    cooldown: 'Sie k√∂nnen in {minutes} Minuten erneut melden',
    elevatorNotFound: 'Aufzug nicht gefunden',
    tooManyReports: 'Bitte warten Sie vor der n√§chsten Meldung',
    reportIssue: 'Problem melden',
    language: 'Sprache',
    admin: 'Verwaltung',
    login: 'Anmelden',
    signup: 'Registrieren',
    email: 'E-Mail',
    sendMagicLink: 'Anmeldelink senden',
    magicLinkSent: '√úberpr√ºfen Sie Ihre E-Mail f√ºr den Anmeldelink!',
    dashboard: '√úbersicht',
    elevators: 'Aufz√ºge',
    addElevator: 'Aufzug hinzuf√ºgen',
    editElevator: 'Aufzug bearbeiten',
    name: 'Name',
    location: 'Standort / Geb√§ude',
    save: 'Speichern',
    delete: 'L√∂schen',
    cancel: 'Abbrechen',
    reports: 'Meldungen',
    last7days: 'Letzte 7 Tage',
    last30days: 'Letzte 30 Tage',
    qrCode: 'QR-Code',
    downloadQR: 'QR herunterladen',
    printQR: 'QR drucken',
    inviteAdmin: 'Admin einladen',
    logout: 'Abmelden',
    noElevators: 'Noch keine Aufz√ºge. F√ºgen Sie einen hinzu!',
    confirmDelete: 'M√∂chten Sie diesen Aufzug wirklich l√∂schen?',
    total: 'Gesamt',
  },
  fr: {
    problemScan: 'Probl√®me ? Scannez !',
    stoppedUnexpectedly: "S'est arr√™t√© de fa√ßon inattendue",
    rumbledOccupied: 'A grond√© pendant le trajet',
    rumbledArrival: "A grond√© avant l'arriv√©e",
    thanks: 'Merci ! Signal√© üëç',
    cooldown: 'Vous pouvez signaler √† nouveau dans {minutes} minutes',
    elevatorNotFound: 'Ascenseur non trouv√©',
    tooManyReports: 'Veuillez patienter avant de signaler √† nouveau',
    reportIssue: 'Signaler un probl√®me',
    language: 'Langue',
    admin: 'Administration',
    login: 'Connexion',
    signup: 'Inscription',
    email: 'Email',
    sendMagicLink: 'Envoyer le lien de connexion',
    magicLinkSent: 'V√©rifiez votre email pour le lien de connexion !',
    dashboard: 'Tableau de bord',
    elevators: 'Ascenseurs',
    addElevator: 'Ajouter un ascenseur',
    editElevator: "Modifier l'ascenseur",
    name: 'Nom',
    location: 'Emplacement / B√¢timent',
    save: 'Enregistrer',
    delete: 'Supprimer',
    cancel: 'Annuler',
    reports: 'Signalements',
    last7days: '7 derniers jours',
    last30days: '30 derniers jours',
    qrCode: 'Code QR',
    downloadQR: 'T√©l√©charger QR',
    printQR: 'Imprimer QR',
    inviteAdmin: 'Inviter un admin',
    logout: 'D√©connexion',
    noElevators: "Pas encore d'ascenseurs. Ajoutez-en un !",
    confirmDelete: '√ätes-vous s√ªr de vouloir supprimer cet ascenseur ?',
    total: 'Total',
  },
}

export function t(lang: Lang, key: string, params?: Record<string, string>): string {
  let text = translations[lang]?.[key] || translations.en[key] || key
  if (params) {
    Object.entries(params).forEach(([k, v]) => {
      text = text.replace(`{${k}}`, v)
    })
  }
  return text
}

export function detectLanguage(acceptLanguage?: string): Lang {
  if (!acceptLanguage) return 'en'
  const preferred = acceptLanguage.split(',').map(l => l.split(';')[0].trim().substring(0, 2).toLowerCase())
  for (const p of preferred) {
    if (languages.includes(p as Lang)) return p as Lang
  }
  return 'en'
}

export const languageNames: Record<Lang, string> = {
  en: 'English',
  cs: 'ƒåe≈°tina',
  sk: 'Slovenƒçina',
  uk: '–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞',
  ru: '–†—É—Å—Å–∫–∏–π',
  de: 'Deutsch',
  fr: 'Fran√ßais',
}
